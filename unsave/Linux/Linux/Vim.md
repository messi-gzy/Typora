# Vim

---

`目录`

---

## 一、模式及关系

#### 1、四种模式

##### 1.1、命令模式 

##### 1.2、编辑模式

##### 1.3、末行模式

##### 1.4、可视化模式

---

#### 2、模式间的关系

<img src="https://pic.imgdb.cn/item/63117e8616f2c2beb1d01d6f.jpg" alt="模式间的关系" style="zoom: 50%;" />

> 图片来源CSDN作者 `_HsForPyp`

---



## 二、使用

> <u>**打开文件**</u>
>
> <u>**保存文件**</u>
>
> <u>**四种模式下的使用**</u>

---

#### 1、打开文件

```bash
vim ...
```

- 如果文件存在将会直接编辑
- 如果文件不存在，先回自动在当前目录下创建一个新的文件并打开编辑

---

#### 2、保存文件

在任何模式下，连续按两次<u>Esc</u>键，即可返回到<u>命令模式</u>。然后按冒号 `:`，进入到末行模式，输入**<u>wq</u>**，*代表保存并退出*。

<img src="https://pic.imgdb.cn/item/63118aef16f2c2beb1d77f65.png" style="zoom: 33%;" />

---

`退出选择`

- **保存并退出**

> **wq**

- **强制退出 （不保存）**

> **q!**

---

#### 3、命令模式

> 在Linux操作系统中，当我们使用vim命令直接打开某个文件时，**<u>默认进入的就是命令模式</u>**。如果我们处于其他模式（编辑模式、可视化模式以及末行模式）可以**<u>连续按两次Esc键</u>**也**<u>可以返回命令模式</u>**

`相关操作`

- 移动光标
- 复制、粘贴
- 剪切、删除
- 撤销、恢复

---

##### 1、移动光标

###### 1.1、首行或末行

| 首行     | gg    |
| -------- | ----- |
| **末行** | **G** |

---

###### 1.2、指定行

> **行数+G**

```bash
150 + G

# 含义：光标快速移动到第150行
```

---

###### 1.3、单词跳转

> **w**
>
> **跳转一个单词**

---

###### 1.4、翻屏

- 向上翻屏

> `ctrl`+`b ` (before)

- 向下翻屏

> `ctrl`+`f` (after)

- 向上翻半屏

> `ctrl`+`u` (up)

- 向下翻半屏

> `ctrl`+`d` (down)

---



##### 2、复制、粘贴

###### 1、复制

- 复制当前行

> **yy**

- 复制指定行数

> **行数 +yy**

```bash
5yy

# 从当前行开始复制5行
```

---

###### 2、粘贴

| 粘贴到下一行     | **p （小写）** |
| ---------------- | -------------- |
| **粘贴到上一行** | **P （大写）** |

---



##### 3、剪切、删除

> 在VIM中，**<u>剪切和删除都是</u>** `dd`
>
> 剪切：先 `dd` 后 `p` 粘贴
>
> 删除：`dd`

---

- 剪切或删除单行

> <u>**dd**</u>
>
> **（删除之后下一行会上移）**
>
> **<u>D</u>**
>
> **（删除之后下一行不会上移，当前行变为空白行）**

- 剪切或删除多行

> **行数 + dd**
>
> 从当前行开始
>
> ```bash
> 3dd
> 
> #从当前行删除3行
> ```
>
> **（删除之后下一行会上移）**

---



##### 4、撤销、恢复

- 撤销

> **<u>u</u>** （undo）

- 恢复

> `ctrl`+`r`
>
> 恢复之前的撤销操作

---



#### 4、末行模式

