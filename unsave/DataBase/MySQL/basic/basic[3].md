# 基础[3]

- $\textcolor{#e18a3b}{【一】}$**[运算符](#1)**

## 一、运算符

<a id="1">`目录`</a>

- $\textcolor{#2a6e3f}{【1】}$[算术运算符](#1.1)
- $\textcolor{#2a6e3f}{【2】}$[比较运算符](#1.2)
  - 基本
  - 其他
- $\textcolor{#2a6e3f}{【3】}$[逻辑运算符](#1.3)
- $\textcolor{#2a6e3f}{【4】}$[位运算符](#1.4)
- $\textcolor{#2a6e3f}{【5】}$[运算符优先级](#1.5)

==**`NULL`参加运算，结果为 `NULL`**==

### 1、算术运算符

<a id="1.1">算术运算符</a>

> 算术运算符主要用于数学运算，其可以连接运算符前后的两个数值或表达式，对数值或表达式进行**加 `（+）`、减`（-）`、乘`（*）`、除`（/）`和取模`（%）`运算**。

|    运算符     |       作用       |
| :-----------: | :--------------: |
|     **+**     |  计算两个值的和  |
|     **-**     |  计算两个值的差  |
|     *****     | 计算两个值的乘积 |
| **/  \| DIV** |  计算两个值的商  |
| **%  \| MOD** | 计算两个值的余数 |

**`注意`**

- $\textcolor{SeaGreen}{【1】}$ 加|减法运算符
  - 一个整数类型的值对整数进行加法和减法操作，结果还是一个整数； 
  - 一个整数类型的值对浮点数进行加法和减法操作，结果是一个浮点数；
- $\textcolor{SeaGreen}{【2】}$ 乘|除法运算符
  - 一个数乘以整数1和除以整数1后仍得原数； 
  - 一个数乘以浮点数1和除以浮点数1后变成浮点数，数值与原数相等； 
  - 一个数除以整数后，不管是否能除尽，结果都为一个浮点数； 
  - 一个数除以另一个数，除不尽时，结果为一个浮点数，并保留到小数点后4位；
- $\textcolor{SeaGreen}{【3】}$ 取模运算符

### 2、比较运算符

<a id="1.2">比较运算符</a>

> 比较运算符用来对表达式左边的操作数和右边的操作数进行比较，比较的结**果为真则返回1，比较的结果 为假则返回0，其他情况则返回NULL**。

#### 1、基本

|   运算符   |   名称   |         作用         |
| :--------: | :------: | :------------------: |
|   **=**    |   等于   |  判断两个值是否相等  |
|  **<=>**   | 安全等于 |  安全的判断是否相等  |
| **<>(!=)** |  不等于  | 判断两个值是否不相等 |
|   **<**    |   小于   |   前者是否小于后者   |
|   **<=**   | 小于等于 | 前者是否小于等于后者 |
|   **>**    |   大于   |   前者是否大于后者   |
|   **>=**   | 大于等于 | 前者是否大于等于后者 |

**`注意`**

- $\textcolor{SeaGreen}{【1】}$ 等号运算符
  - 如果等号两边的值、字符串或表达式都为字符串，则MySQL会按照字符串进行比较，其比较的 是每个字符串中字符的ANSI编码是否相等。 
  - 如果等号两边的值都是整数，则MySQL会按照整数来比较两个值的大小。
  -  如果等号两边的值一个是整数，另一个是字符串，则MySQL会将字符串转化为数字进行比较。 
  - **如果等号两边的值、字符串或表达式中有一个为NULL，则比较结果为NULL。**

- $\textcolor{SeaGreen}{【2】}$ 安全等于运算符

  > **安全等于运算符（`<=>`）与等于运算符（`=`）的作用是相似的， ==唯一的区别 是‘<=>’可 以用来对NULL进行判断。==**

  - 在两个操作数均为NULL时，其返回值为1，而不为NULL；
  - 当一个操作数为NULL 时，其返回值为0，而不为NULL。

#### 2、其他

|     运算符      |    名称    |            作用            |
| :-------------: | :--------: | :------------------------: |
|   **IS NULL**   |    为空    |       判断值是否为空       |
| **IS NOT NULL** |   不为空   |      判断值是否不为空      |
|    **LEAST**    |   最小值   |         返回最小值         |
|  **GREATEST**   |   最大值   |         返回最大值         |
| **BETWEEN AND** | 两个值之间 | 判断是否在区间里（闭区间） |
|   **ISNULL**    |    为空    |       判断值是否为空       |
|     **IN**      |    属于    |      判断是否在列表中      |
|   **NOT IN**    |   不属于   |     判断是否不在列表中     |
|    **LIKE**     |  模糊匹配  |    判断是否满足模糊匹配    |
|   **REGEXP**    | 正则表达式 |   判断是否满足正则表达式   |
|    **RLIKE**    | 正则表达式 |   判断是否满足正则表达式   |

- `LEAST`

  ```mysql
  SELECT LEAST (1,0,2)
  ```

- `GREATEST`

  ```mysql
  SELECT GREATEST(1,0,2)
  ```

- `BETWEEN AND`

  ```mysql
  SELECT 1 BETWEEN 0 AND 1
  ```

- `IN`

  > IN运算符用于判断给定的值是否是IN列表中的一个值，**如果是则返回1，否则返回0。**如果给 定的值为NULL，或者IN列表中存在NULL，则结果为NULL。

  ```mysql
  SELECT 'a' IN ('a','b','c')
  ```

- `NOT IN`

  ```mysql
  SELECT 'a' NOT IN ('a','b','c')
  ```

- `LIKE`

  > LIKE运算符主要用来匹配字符串，通常用于模糊匹配，如果满足条件则返回1，否则返回 0。如果给定的值或者匹配条件为NULL，则返回结果为NULL。
  >
  > - **==“%”：匹配0个或多个字符。==**
  > -  **==“_”：只能匹配一个字符。==**

  ```mysql
  SELECT first_name 
  FROM employees 
  WHERE first_name LIKE 'S%';
  ```

- `REGEXP`

  **REGEXP运算符用来匹配字符串，语法格式为： `... REGEXP 匹配条件` 。如果expr满足匹配条件，返回 1；如果不满足，则返回0。若expr或匹配条件任意一个为NULL，则结果为NULL。**

  > ```bash
  > #（1）‘^’匹配以该字符后面的字符开头的字符串。 
  > #（2）‘$’匹配以该字符前面的字符结尾的字符串。 
  > #（3）‘.’匹配任何一个单字符。
  > #（4）“[...]”匹配在方括号内的任何字符。例如，“[abc]”匹配“a”或“b”或“c”。为了命名字符的范围，使用一 个‘-’。“[a-z]”匹配任何字母，而“[0-9]”匹配任何数字。 
  > #（5）‘*’匹配零个或多个在它前面的字符。例如，“x*”匹配任何数量的‘x’字符，“[0-9]*”匹配任何数量的数字， 而“*”匹配任何数量的任何字符。
  > ```

  ```mysql
  SELECT 'shkstart' REGEXP '^s', 'shkstart' REGEXP 't$'
  ```

### 3、逻辑运算符

<a id="1.3">逻辑运算符</a>

|      运算符      |   作用   |
| :--------------: | :------: |
| **NOT  \|   !**  |  逻辑非  |
| **AND  \|  &&**  |  逻辑与  |
| **OR  \|  \|\|** |  逻辑或  |
|     **XOR**      | 逻辑异或 |

`注意`

> **OR可以和AND一起使用，但是在使用时要注意两者的优先级，由于==AND的优先级高于OR==，因此先 对AND两边的操作数进行操作，再与OR中的操作数结合。**

### 4、位运算符

<a id="1.4">位运算符</a>

> 位运算符是在二进制数上进行计算的运算符。位运算符会先将操作数变成二进制数，然后进行位运算， 最后将计算结果从二进制变回十进制数。

| 运算符 |   作用   |
| :----: | :------: |
|   &    |  按位与  |
|   \|   |  按位或  |
|   ^    | 按位异或 |
|   ~    | 按位取反 |
|   >>   | 按位右移 |
|   <<   | 按位左移 |

<img src="https://pic.imgdb.cn/item/6327395416f2c2beb1c49a18.png" style="zoom: 50%;" />

> `tips`
>
> 在一定范围内
>
> - **左移一位，相当于乘2**
> - **右移一位，相当于除以2**

### 5、运算符优先级

<a id="1.5">运算符优先级</a>

| 优先级 |           运算符            |
| :----: | :-------------------------: |
|   1    |           =(赋值)           |
|   2    |         \|\|,OR,XOR         |
|   3    |           &&,AND            |
|   4    |             NOT             |
|   5    | BETWEEN,CASE,WHEN,THEN,ELSE |
|   6    |         =,<=>(比较)         |
|   7    |             \|              |
|   8    |              &              |
|   9    |            <<,>>            |
|   10   |             -,+             |
|   11   |          *,/,%,MOD          |
|   12   |              ^              |
|   13   |         -(负号)，~          |
|   14   |             ！              |
|   15   |             ()              |

