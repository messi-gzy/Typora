# 基础[5]

- $\textcolor{#e18a3b}{【一】}$**[单行函数](#1)**
- $\textcolor{#e18a3b}{【二】}$**[聚合函数](#2)**

## 一、单行函数

<a id="1">**`目录`**</a>

- $\textcolor{#2a6e3f}{【1】}$ [函数的理解](#1.1)
- $\textcolor{#2a6e3f}{【2】}$ [数值函数](#1.2)
- $\textcolor{#2a6e3f}{【3】}$ [字符串函数](#1.3)
- $\textcolor{#2a6e3f}{【4】}$ [日期和时间函数](#1.4)
- $\textcolor{#2a6e3f}{【5】}$ [流程控制函数](#1.5)
- $\textcolor{#2a6e3f}{【6】}$ [加密解密函数](#1.6)
- $\textcolor{#2a6e3f}{【7】}$ [信息函数](#1.7)
- $\textcolor{#2a6e3f}{【8】}$ [其他函数](#1.8)

---

### 1、函数的理解<a id="1.1">💚</a>

#### 1.1、函数

​	函数在计算机语言的使用中贯穿始终，函数的作用是什么呢？它可以把我们经常使用的代码封装起来， 需要的时候直接调用即可。这样既**提高了代码效率** ，**又提高了可维护性** 。在 `SQL`中我们也可以**使用函数对检索出来的数据进行函数操作**。使用这些函数，可以极大地 提高用户对数据库的管理效率 。

#### 1.2、不同DBMS函数的差异

​	`DBMS` 之间的差异性很大，远大于同一个语言不同版本之间的差异。实际上，只有很少的函数是 被 `DBMS` 同时支持的。比如，大多数 `DBMS` 使用（||）或者（+）来做拼接符，而在 `MySQL` 中的字符串拼 接函数为`concat()`。大部分 `DBMS` 会有自己特定的函数，**这就意味着采用 SQL 函数的代码可移植性是很差的**，因此在使用函数的时候需要特别注意。

#### 1.3、MySQL内置函数

​	`MySQL`提供的内置函数从实现的功能角度可以分为==数值函数==、==字符串函数==、==日期和时间函数==、==流程控制函数==、==加密与解密函数==、获取`MySQL`==信息函数==、==聚合函数==等。这里，我将这些丰富的内置函数再分为两 类： ==单行函数== 、 ==聚合函数==（或分组函数） 。

> 单行函数可以嵌套

---

### 2、数值函数<a id="1.2">💚</a>

#### 2.1、基本函数

|        函数         | 作用                                                         |
| :-----------------: | ------------------------------------------------------------ |
|       ABS(x)        | 返回x的绝对值                                                |
|       SIGN(x)       | 返回X的符号。正数返回1，负数返回-1，0返回0                   |
|        PI()         | 返回圆周率的值                                               |
| CEIL(x).CEILING(x)  | 返回大于或等于某个值的最小整数                               |
|      FLOOR(x)       | 返回小于或等于某个值的最大整数                               |
|  LEAST(e1,e2,...)   | 返回列表中的最小值                                           |
| GREATEST(e1,e2,...) | 返回列表中的最大值                                           |
|      MOD(x,y)       | 返回X除以Y后的余数                                           |
|       RAND()        | 返回0~1的随机值                                              |
|       RAND(x)       | 返回0~1的随机值，其中x的值用作种子值，相同的X值会产生相同的随机 数 |
|      ROUND(x)       | 返回一个对x的值进行四舍五入后，最接近于X的整数               |
|     ROUND(x,y)      | 返回一个对x的值进行四舍五入后最接近X的值，并保留到小数点后面Y位 |
|    TRUNCATE(x,y)    | 返回数字x截断为y位小数的结果                                 |
|       SQRT(x)       | 返回x的平方根。当X的值为负数时，返回NULL                     |

#### 2.2、角度与弧度

> **==1弧度：弧长等于半斤的长度，其对应的圆心角的大小==**

|    函数    | 用法                                  |
| :--------: | ------------------------------------- |
| RADIANS(x) | 将角度转化为弧度，其中，参数x为角度值 |
| DEGREES(x) | 将弧度转化为角度，其中，参数x为弧度值 |

#### 2.3、三角函数

|    函数    | 作用                                                         |
| :--------: | ------------------------------------------------------------ |
|   SIN(x)   | 返回x的正弦值，其中，参数x为弧度值                           |
|  ASIN(x)   | 返回x的反正弦值，即获取正弦为x的值。如果x的值不在-1到1之间，则返回NULL |
|   COS(x)   | 返回x的余弦值，其中，参数x为弧度值                           |
|  ACOS(x)   | 返回x的反余弦值，即获取余弦为x的值。如果x的值不在-1到1之间，则返回NULL |
|   TAN(x)   | 返回x的正切值，其中，参数x为弧度值                           |
|  ATAN(x)   | 返回x的反正切值，即返回正切值为x的值                         |
| ATAN2(m,n) | 返回两个参数的反正切值                                       |
|   COT(x)   | 返回x的余切值，其中，X为弧度值                               |

#### 2.4、指数与对数

|        函数         | 作用                                                 |
| :-----------------: | ---------------------------------------------------- |
| POW(x,y),POWER(x,y) | 返回x的y次方                                         |
|       EXP(x)        | 返回e的X次方，其中e是一个常数，2.718281828459045     |
|    LN(x),LOG(x)     | 返回以e为底的X的对数，当X <= 0 时，返回的结果为NULL  |
|      LOG10(x)       | 返回以10为底的X的对数，当X <= 0 时，返回的结果为NULL |
|       LOG2(x)       | 返回以2为底的X的对数，当X <= 0 时，返回NULL          |

#### 2.5、进制转换

|     函数      | 作用                     |
| :-----------: | ------------------------ |
|    BIN(x)     | 返回x的二进制编码        |
|    HEX(x)     | 返回x的十六进制编码      |
|    OCT(x)     | 返回x的八进制编码        |
| CONV(x,f1,f2) | 返回f1进制数变成f2进制数 |

---

### 3、字符串函数<a id="1.3">💚</a>

> **==字符串的索引都是从`1`开始的==**
>
> **==字符串的索引都是从`1`开始的==**
>
> **==字符串的索引都是从`1`开始的==**

|              函数              | 作用                                                         |
| :----------------------------: | ------------------------------------------------------------ |
|            ASCII(s)            | 返回字符串S中的第一个字符的ASCII码值                         |
|         CHAR_LENGTH(s)         | 返回字符串s的字符数。作用与CHARACTER_LENGTH(s)相同           |
|           LENGTH(s)            | 返回字符串s的字节数，和字符集有关                            |
|       CONCAT(s1,s2,....)       | 连接s1,s2,......,sn为一个字符串                              |
|    CONCAT_WS(x,s1,s2,....)     | 同CONCAT(s1,s2,...)函数，但是每个字符串之间要加上x           |
| INSERT(str,idx,len,replacestr) | 将字符串str从第idx位置开始，len个字符长的子串替换为字符串replacestr |
|        REPLACE(str,a,b)        | 用字符串b替换字符串str中所有出现的字符串a                    |
|      UPPER(s) 或 UCASE(s)      | 将字符串s的所有字母转成大写字母                              |
|      LOWER(s) 或LCASE(s)       | 将字符串s的所有字母转成小写字母                              |
|          LEFT(str,n)           | 返回字符串str最左边的n个字符                                 |
|          RIGHT(str,n)          | 返回字符串str最右边的n个字符                                 |
|      LPAD(str, len, pad)       | 用字符串pad对str最左边进行填充，直到str的长度为len个字符     |
|      RPAD(str ,len, pad)       | 用字符串pad对str最右边进行填充，直到str的长度为len个字符     |
|            LTRIM(s)            | 去掉字符串s左侧的空格                                        |
|            RTRIM(s)            | 去掉字符串s右侧的空格                                        |
|            TRIM(s)             | 去掉字符串s开始与结尾的空格                                  |
|        TRIM(s1 FROM s)         | 去掉字符串s开始与结尾的s1                                    |
|    TRIM(LEADING s1 FROM s)     | 去掉字符串s开始处的s1                                        |
|    TRIM(TRAILING s1 FROM s)    | 去掉字符串s结尾处的s1                                        |
|         REPEAT(str, n)         | 返回str重复n次的结果                                         |
|            SPACE(n)            | 返回n个空格                                                  |
|         STRCMP(s1,s2)          | 比较字符串s1,s2的ASCII码值的大小                             |
|      SUBSTR(s,index,len)       | 返回从字符串s的index位置其len个字符，作用与SUBSTRING(s,n,len)、 MID(s,n,len)相同 |
|       LOCATE(substr,str)       | 返回字符串substr在字符串str中首次出现的位置，作用于POSITION(substr IN str)、INSTR(str,substr)相同。未找到，返回0 |
|       ELT(m,s1,s2,…,sn)        | 返回指定位置的字符串，如果m=1，则返回s1，如果m=2，则返回s2，如 果m=n，则返回sn |
|      FIELD(s,s1,s2,…,sn)       | 返回字符串s在字符串列表中第一次出现的位置                    |
|       FIND_IN_SET(s1,s2)       | 返回字符串s1在字符串s2中出现的位置。其中，字符串s2是一个以逗号分 隔的字符串 |
|           REVERSE(s)           | 返回s反转后的字符串                                          |
|     NULLIF(value1,value2)      | 比较两个字符串，如果value1与value2相等，则返回NULL，否则返回 value1 |

### 4、日期和时间函数<a id="1.4">💚</a>

### 5、流程控制函数<a id="1.5">💚</a>

### 6、加密解密函数<a id="1.6">💚</a>

### 7、信息函数<a id="1.7">💚</a>

### 8、其他函数<a id="1.8">💚</a>

## 二、聚合函数

<a id="2">**`目录`**</a>

- $\textcolor{#2a6e3f}{【1】}$ [](#2.1)
- $\textcolor{#2a6e3f}{【2】}$ [](#2.2)
- $\textcolor{#2a6e3f}{【3】}$ [](#2.3)
- $\textcolor{#2a6e3f}{【4】}$ [](#2.4)
- $\textcolor{#2a6e3f}{【5】}$ [](#2.5)
- $\textcolor{#2a6e3f}{【6】}$ [](#2.6)

### 1、<a id="2.1">💛</a>

### 2、<a id="2.2">💛</a>

### 3、<a id="2.3">💛</a>

### 4、<a id="2.4">💛</a>

### 5、<a id="2.5">💛</a>

### 6、<a id="2.6">💛</a>
